{"version":3,"sources":["images/logo_header.svg","components/Header.js","contexts/CardsContext.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Footer.js","utils/Api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CardsContext","React","createContext","CurrentUserContext","Card","props","currentUser","useContext","onClick","onCardClick","card","type","name","link","onCardDelete","item","isOwn","owner","_id","cardDeleteButtonClassName","onCardLike","width","height","viewBox","fill","xmlns","isLiked","likes","some","i","cardLikeButtonClassName","d","stroke","length","Main","cards","onEditAvatar","avatar","onEditProfile","about","onAddPlace","map","PopupWithForm","isOpen","onSubmit","noValidate","onClose","title","children","textButton","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","id","defaultValue","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","inputAvatar","useRef","onUpdateAvatar","current","ref","linkAvatar","AddPlacePopup","namePlace","setNamePlace","placeLink","setPlaceLink","ImagePopup","Footer","apiCards","config","this","_url","url","_headers","headers","fetch","method","then","res","ok","json","Promise","reject","Error","status","data","body","JSON","stringify","userData","like","authorization","App","handleEsc","key","closeAllPopups","document","addEventListener","removeEventListener","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","place","setPlace","setCards","setCurrentUser","all","getUserInfo","getInitialCards","values","initialCards","catch","err","console","log","Provider","changeLikeCardStatus","newCard","newCards","c","deleteMyCard","filter","myCard","saveUserInfo","saveUserAvatar","addCardNew","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e977f7d6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_header.a307e1c4.svg\";","\nimport logo from '../images/logo_header.svg';\n\nfunction Header() {\n  return (\n    <>\n      <header className=\"header\">\n        <img className=\"logo\" src={logo} alt=\"Логотип\" />\n      </header>\n    </>\n  )\n}\n\nexport default Header;","import React from 'react';\n\nconst CardsContext = React.createContext();\n\nexport default CardsContext;\n","import React from 'react';\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from 'react';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick () {\n    props.onCardLike(props.card);\n  }\n\n  function handleCardDelete() {\n    props.onCardDelete(props.card);\n  }\n\n  function cardDeleteButtonClassName(item) {\n    const isOwn = item.owner._id === currentUser._id;\n    return (`${isOwn ? 'card__delete-icon' : 'card__delete-icon_hidden'}`);\n\n  }\n\n  function cardLikeButtonClassName(item) {\n    const isLiked = item.likes.some(i => i._id === currentUser._id);\n\n    return (`${isLiked ? 'card__like_active' : 'card__like'}`);\n  }\n\n  return (\n    <>\n\n\n    <div className=\"card\">\n\n      <button onClick={handleClick} type=\"button\" className=\"card__button\">\n        <img className=\"card__image\" alt={props.card.name} src={props.card.link} />\n      </button>\n\n      <button onClick={handleCardDelete} type=\"button\" className={cardDeleteButtonClassName(props.card)}></button>\n\n        <div className=\"card__item-rectangle\">\n          <h3 className=\"card__item-subtitle\">{props.card.name}</h3>\n            <div className=\"card__board\">\n              <button onClick={handleLikeClick} type=\"button\" className=\"card__item-button\">\n                <svg width=\"21\" height=\"19\" viewBox=\"0 0 21 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className={cardLikeButtonClassName(props.card)}>\n                  <path d=\"M18.8005 1.95849L18.8023 1.96024C20.7437 3.88233 20.7462 7.03905 18.8005 8.98466L10.361 17.4238L1.94628 9.00951C1.94569 9.00892 1.94511 9.00832 1.94453 9.00772C1.0188 8.06185 0.5 6.81051 0.5 5.48217C0.5 4.14855 1.00122 2.89987 1.94265 1.95849L1.94266 1.95849L1.94441 1.95672C3.86629 0.0157068 7.02186 0.0131363 8.96748 1.97793L8.96922 1.97967L10.0074 3.01784L10.3646 3.37496L10.7181 3.01425L11.7545 1.95673C13.6994 0.0138381 16.8563 0.014425 18.8005 1.95849Z\" stroke=\"black\"/>\n                </svg>\n              </button>\n              <p className=\"card__counter\">{props.card.likes.length}</p>\n            </div>\n        </div>\n    </div>\n\n  </>\n  )\n}\n\nexport default Card;\n","import React from 'react';\nimport CardsContext from '../contexts/CardsContext';\nimport Card from './Card';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\nfunction Main(props) {\n\n  const currentUser = React.useContext(CurrentUserContext);\n  const cards = React.useContext(CardsContext);\n\n  return (\n\n\n    <main className=\"main\">\n\n        <section className=\"profile\">\n\n          <button onClick={props.onEditAvatar} className=\"avatar-button\" type=\"button\">\n            <img className=\"avatar\" src={currentUser.avatar} alt=\"Ж.И. Кусто\" />\n          </button>\n\n          <div className=\"profile__info\">\n            <div className=\"profile__user\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button onClick={props.onEditProfile} className=\"profile__link\" type=\"button\"></button>\n            </div>\n          <p className=\"profile__paragraph\">{currentUser.about}</p>\n          </div>\n\n          <button onClick={props.onAddPlace} className=\"profile__add\" type=\"button\"></button>\n\n        </section>\n\n        <section className=\"elements\">\n          {\n            cards.map((item) =>\n              <Card key={item._id}\n                onCardClick={props.onCardClick}\n                card={item}\n                onCardLike={props.onCardLike}\n                onCardDelete={props.onCardDelete}\n              />\n            )\n          }\n        </section>\n\n    </main>\n\n\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  return (\n    <section className={`popup popup_${props.name} ${props.isOpen}`}>\n    <form onSubmit={props.onSubmit} className={`popup__form popup__form_${props.name}`} name={props.name} noValidate>\n      <button onClick={props.onClose} className={`popup__close popup__close_${props.name}`} type=\"button\"></button>\n      <fieldset className=\"popup__profile\">\n        <label className=\"popup__label\">{ props.title }</label>\n        {props.children}\n      </fieldset>\n      <button className={`popup__button popup__button_${props.name}`} type=\"submit\">{props.textButton}</button>\n    </form>\n  </section>\n\n  )\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\n\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n\n\n  function handleNameChange(evt) {\n    setName(evt.target.value);\n  }\n\n  function handleDescriptionChange(evt) {\n    setDescription(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n  <>\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"user\"\n      title=\"Редактировать профиль\"\n      textButton=\"Сохранить\">\n\n        <input id=\"name-input\" type=\"text\" defaultValue={name} onChange={handleNameChange} className=\"popup__input popup__input_type_name\" name=\"fullname\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n\n        <span id=\"name-input-error\" className=\"popup__error\"></span>\n        <label></label>\n\n        <input id=\"job-input\" type=\"text\" defaultValue={description} onChange={handleDescriptionChange} className=\"popup__input popup__input_type_description\" name=\"job\" placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" />\n\n        <span id=\"job-input-error\" className=\"popup__error\"></span>\n\n\n    </PopupWithForm>\n\n\n\n  </>\n  )\n\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\n\nfunction EditAvatarPopup(props) {\n\n  const inputAvatar = React.useRef();\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: inputAvatar.current.value,\n    });\n\n  }\n\n  return (\n    <>\n      <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"avatar\"\n      title=\"Обновить аватар\"\n      textButton=\"Сохранить\">\n\n      <input ref={inputAvatar} defaultValue={props.linkAvatar} id=\"url-input\" type=\"url\" className=\"popup__input popup__input-avatar_type_link\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required></input>\n\n      <span id=\"url-input-error\" className=\"popup__error\"></span>\n\n    </PopupWithForm>\n    </>\n  )\n\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport CardsContext from '../contexts/CardsContext';\n\nfunction AddPlacePopup(props) {\n\n  const [namePlace, setNamePlace] = React.useState('');\n  const [placeLink, setPlaceLink] = React.useState('');\n\n  const cards = React.useContext(CardsContext);\n\n  React.useEffect(() => {\n    setNamePlace(cards.name);\n    setPlaceLink(cards.link);\n  }, [cards]);\n\n  React.useEffect(() => {\n    setNamePlace('');\n    setPlaceLink('');\n  }, [props.isOpen]);\n\n  function handleNamePlaceChange(evt) {\n    setNamePlace(evt.target.value);\n  }\n\n  function handlePlaceLinkChange(evt) {\n    setPlaceLink(evt.target.value);\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n\n    props.onAddPlace({\n      name: namePlace,\n      link: placeLink,\n    });\n  }\n\n  return (\n    <>\n\n    <PopupWithForm\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      onSubmit={handleSubmit}\n      name=\"new\"\n      title=\"Новое место\"\n      textButton=\"Сохранить\">\n\n      <input value={namePlace || ''} onChange={handleNamePlaceChange} id=\"place-input\" type=\"text\" className=\"popup__input popup__input-new_type_name\" name=\"name\" placeholder=\"Название\" required minLength=\"1\" maxLength=\"30\" />\n\n      <span id=\"place-input-error\" className=\"popup__error\"></span>\n      <label></label>\n\n      <input value={placeLink || ''} onChange={handlePlaceLinkChange} id=\"url-input\" type=\"url\" className=\"popup__input popup__input-new_type_link\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\n\n      <span id=\"url-input-error\" className=\"popup__error\"></span>\n\n    </PopupWithForm>\n\n    </>\n  )\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  return (\n\n    <section className={`popup-place ${props.isOpen}`}>\n\n      <div className=\"popup-place__container\">\n        <button onClick={props.onClose} className=\"popup__close popup-place__close\" type=\"button\"></button>\n          <img src={props.card.link} alt={props.card.name} className=\"popup-place__image\" />\n          <p className=\"popup-place__title\">{props.card.name}</p>\n      </div>\n\n    </section>\n\n  )\n}\n\nexport default ImagePopup;\n","function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","class Api {\n  constructor(config) {\n    this._url = config.url;\n    this._headers = config.headers;\n  }\n/*\n  _getResponseData() {\n    ((res) => {\n      if (res.ok) {\n        console.log('res.ok');\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n*/\n  getInitialCards() {\n    return fetch(`${this._url}/cards`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n\n\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n\n  addCardNew(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n\n  deleteMyCard(id) {\n    return fetch(`${this._url}/cards/${id}`,{\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n\n  }\n/*\n  addLikeCard(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n*/\n  saveUserInfo(userData) {\n\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: userData.name,\n        about: userData.about\n      })\n    }).then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\n      })\n\n  }\n\n  saveUserAvatar(link) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({avatar: link.avatar})\n    })\n    .then((res) => {\n      if (res.ok) {\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n\n/*\n  deleteLikeCard(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n*/\n  changeLikeCardStatus(id, like) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: this._headers\n    })\n    .then((res) => {\n      if (res.ok) {\n\n        return res.json();\n      }\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    })\n  }\n\n\n}\n\n\nconst apiCards = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '66c41b58-77a1-4c47-8e2e-bc5926c7c056',\n    'content-type': 'application/json'\n  }\n})\n\nexport default apiCards;\n","import React from 'react';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport EditProfilePopup from './EditProfilePopup';\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport ImagePopup from './ImagePopup';\r\nimport Footer from './Footer';\r\nimport apiCards from '../utils/Api';\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport CardsContext from '../contexts/CardsContext';\r\n\r\nfunction App() {\r\n\r\n  React.useEffect(() => {\r\n    function handleEsc(evt) {\r\n      if (evt.key === 'Escape') {\r\n        closeAllPopups();\r\n      }\r\n    }\r\n\r\n    document.addEventListener('keydown', handleEsc);\r\n\r\n    return () => {\r\n      document.removeEventListener('keydown', handleEsc);\r\n    };\r\n  });\r\n\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [place, setPlace] =  React.useState(false);\r\n\r\n  const [cards, setCards] = React.useState([]);\r\n  const [currentUser, setCurrentUser] = React.useState([]);\r\n\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([\r\n      apiCards.getUserInfo(),\r\n      apiCards.getInitialCards()\r\n    ]).then((values)=>{\r\n\r\n      const [userData, initialCards] = values;\r\n\r\n      setCurrentUser(userData);\r\n      setCards(initialCards);\r\n\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    })\r\n\r\n  }, [])\r\n\r\n\r\n  function handleCardLike(card) {\r\n\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    apiCards.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n\r\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n\r\n      setCards(newCards);\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    });\r\n\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n\r\n    apiCards.deleteMyCard(card._id).then(() => {\r\n      const newCards = cards.filter((myCard) => {\r\n        return myCard._id  !== card._id;\r\n      });\r\n      setCards(newCards);\r\n    }).catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  function handleCardClick(data) {\r\n    setPlace(true);\r\n    setSelectedCard({\r\n      ...selectedCard,\r\n      ...data\r\n    });\r\n\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setIsEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n\r\n    setPlace(false);\r\n  }\r\n\r\n  function handleUpdateUser(currentUser) {\r\n    apiCards.saveUserInfo(currentUser).then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      console.log(err);\r\n      })\r\n\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    apiCards.saveUserAvatar(link).then((data) => {\r\n      setCurrentUser(data);\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      console.log(err);\r\n      })\r\n  }\r\n\r\n  function handleAddPlaceSubmit(place) {\r\n    apiCards.addCardNew(place)\r\n    .then((newCard) => {\r\n      setCards([newCard, ...cards])\r\n      closeAllPopups();\r\n    }).catch((err) => {\r\n      console.log(err);\r\n      })\r\n  }\r\n\r\n  return (\r\n\r\n   <>\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n      <CardsContext.Provider value={cards}>\r\n\r\n      <Header />\r\n      <Main\r\n        onEditProfile={handleEditProfileClick}\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onCardClick={handleCardClick}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        cards={cards} >\r\n\r\n      </Main>\r\n\r\n      <ImagePopup\r\n        card={selectedCard ? selectedCard : ''}\r\n        onClose={closeAllPopups}\r\n        isOpen={place ? 'popup_opened' : ''}\r\n\r\n      />\r\n\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen ? 'popup_opened' : ''}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen ? 'popup_opened' : ''}\r\n        onClose={closeAllPopups}\r\n        linkAvatar={currentUser.avatar}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        isOpen={isAddPlacePopupOpen ? 'popup_opened' : ''}\r\n        onClose={closeAllPopups}\r\n        onAddPlace={handleAddPlaceSubmit}\r\n      />\r\n\r\n      <PopupWithForm\r\n        name=\"delete_place\"\r\n        title=\"Вы уверены?\"\r\n        textButton=\"Да\">\r\n\r\n      </PopupWithForm>\r\n\r\n      <Footer />\r\n\r\n      </CardsContext.Provider>\r\n      </CurrentUserContext.Provider>\r\n   </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}